# Лабораторная работа №4

### Задание на лабораторную работу

В процессе написания тестовых заданий ознакомиться с потоковым
механизмом ввода/вывода в Java.

### Задание 1

Модифицировать классы из лабораторной работы №3 следующим образом:

* в интерфейс добавить следующие методы:

  * записи в байтовый поток

    ` void output(OutputStream out); `

  * записи в символьный поток

    `void write(Writer out);`

* реализовать добавленные в интерфейс методы в обоих классах вашей
иерархии;

* описать новый класс со следующими *статическими* методами:

    * записи в байтовый поток
        
    `void output<Интерфейс>(<Интерфейс> o, OutputStream out);`

    * чтения из байтового потока

    `<Интерфейс> input<Интерфейс>(InputStream in);`

    * записи в символьный поток

    `void write<Интерфейс> (<Интерфейс> o, Writer out);`

    * чтения из символьного потока

    `<Интерфейс> read<Интерфейс>(Reader in);`

В статических методах записи делегировать вызов соответствующему методу
интерфейса.

В обоих случаях записанный объект должен представлять собой
последовательность значений своих полей.

В случае символьного потока рекомендуется считать, что один объект
записывается в одну строку (поля разделены пробелами). Для чтения
элемента из символьного потока можно использовать класс StreamTokenizer.

### Задание 2

Модифицировать классы в иерархии таким образом, чтобы они были
сериализуемы. Добавить в класс со статическими методами методы для
вывода/ввода сериализованных объектов.

* вывод сериализованных объектов

`void serialize<Интерфейс> (<Интерфейс> o, OutputStream out);`

* ввод десериализованного объекта

`<Интерфейс> deserialize<Интерфейс>(InputStream in);`

### Задание 3

Добавить в класс со статическими методами методы для форматного
текстового ввода и вывода.

* вывод с объектов

`void writeFormat<Интерфейс> (<Интерфейс> o, Writer out);`

* ввод объекта (параметром метода является объект типа Scanner)

`<Интерфейс> readFormat<Интерфейс>(Scanner in);`

### Задание 4

Организовать примитивный интерфейс пользователя, выполняющий следующие
функции

* заполнение базы элементов с консоли, с выбором типа элемента
пользователем;

* цикл записи в байтовый поток и цикл чтения из байтового потока базы
элементов с помощью разработанных в задании 1 методов байтового
ввода/вывода;

* цикл записи в текстовый поток и цикл чтения из текстового потока базы
элементов с помощью разработанных в задании 1 методов текстового
ввода/вывода;

* цикл записи в байтовый поток и цикл чтения из байтового потока базы
элементов с помощью разработанных в задании 2 методов
сериализации/десериализации.

* цикл записи в текстовый поток и цикл чтения из текстового потока базы
элементов с помощью разработанных в задании 3 методов текстового
форматного ввода/вывода (возможны особенности преобразования
вещественных чисел, необходимо задать нужную настройку локали);

Протестировать разработанные методы работы с потоками, а также
возможности сериализации. В качестве источника и получателя данных
использовать файлы.

### [Контрольные вопросы]

1.  Поток данных, классификация, базовые классы

2.  Байтовый поток ввода InputStream

3.  Байтовый поток вывода OutputStream

4.  Текстовый поток чтения Reader

5.  Текстовый поток записи Writer

6.  Потоки конвертеры

7.  Потоки Buffered

8.  Потоки ByteArray

9.  Потоки CharArray, String

10. Потоки Print

11. Интерфейсы и потоки Data

12. Потоки File

13. Сериализация, порядок

14. Десериализация, порядок

15. Настройка сериализации

16. Контроль версий
